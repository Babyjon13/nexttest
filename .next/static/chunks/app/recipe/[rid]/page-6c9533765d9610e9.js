(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{1748:(e,s,t)=>{Promise.resolve().then(t.bind(t,6748))},5565:(e,s,t)=>{"use strict";t.d(s,{default:()=>i.a});var l=t(4146),i=t.n(l)},4146:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return r},getImageProps:function(){return a}});let l=t(306),i=t(666),c=t(7970),n=l._(t(5514));function a(e){let{props:s}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let r=c.Image},9281:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var l=t(5155),i=t(7641),c=t.n(i),n=t(5565);function a(e){let{recipes:s}=e;return(0,l.jsxs)("div",{className:c().info,children:[(0,l.jsxs)("div",{className:c().kkal,children:[(0,l.jsxs)("div",{className:c().kal,children:[(0,l.jsx)(n.default,{src:"/icon/fire.png",width:45,height:45,alt:"kal"}),(0,l.jsx)("p",{children:"кaлории"})]}),(0,l.jsxs)("p",{children:[s.kkal," г."]})]}),(0,l.jsxs)("div",{className:c().belki,children:[(0,l.jsxs)("div",{className:c().bel,children:[(0,l.jsx)(n.default,{src:"/icon/belki.png",width:45,height:45,alt:"bel"}),(0,l.jsx)("p",{children:"белки"})]}),(0,l.jsxs)("p",{children:[s.bel," г."]})]}),(0,l.jsxs)("div",{className:c().oily,children:[(0,l.jsxs)("div",{className:c().oil,children:[(0,l.jsx)(n.default,{src:"/icon/fats.png",width:45,height:45,alt:"oil"}),(0,l.jsx)("p",{children:"жиры"})]}),(0,l.jsxs)("p",{children:[s.fats," г."]})]}),(0,l.jsxs)("div",{className:c().carbs,children:[(0,l.jsxs)("div",{className:c().carb,children:[(0,l.jsx)(n.default,{src:"/icon/carbs.png",width:45,height:45,alt:"oil"}),(0,l.jsx)("p",{children:"углеводы"})]}),(0,l.jsxs)("p",{children:[s.carbs," г."]})]}),(0,l.jsxs)("div",{className:c().clock,children:[(0,l.jsx)(n.default,{src:"/icon/clock.png",width:80,height:80,alt:"clock"}),(0,l.jsx)("p",{children:s.cookingTime})]})]})}},6748:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var l=t(5155),i=t(9863),c=t.n(i),n=t(2115),a=t(6658),r=t(5565),o=t(7641),d=t.n(o),h=t(9281);let x=e=>{let{ingredients:s}=e,[t,i]=(0,n.useState)(!1),[c,a]=(0,n.useState)(s.portion),o=s.ingredients,x=t?o:o.slice(0,7),p=e=>{let t=e/s.portion*c;return t%1==0?t.toString():t.toFixed(2).replace(/\.?0+$/,"")};return(0,l.jsxs)("div",{className:d().lala,children:[(0,l.jsxs)("div",{className:d().portion,children:[(0,l.jsx)("button",{onClick:()=>{c>1&&a(e=>e-1)},className:d().calc,children:(0,l.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"21",cy:"21",r:"19",stroke:"#99CC33",strokeWidth:"4"}),(0,l.jsx)("line",{x1:"13",y1:"20",x2:"29",y2:"20",stroke:"#003333",strokeWidth:"4"})]})}),(0,l.jsx)("p",{children:c}),(0,l.jsx)("button",{onClick:()=>{a(e=>e+1)},className:d().calc,children:(0,l.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"21",cy:"21",r:"19",stroke:"#99CC33",strokeWidth:"4"}),(0,l.jsx)("line",{x1:"13",y1:"20",x2:"29",y2:"20",stroke:"#003333",strokeWidth:"4"}),(0,l.jsx)("line",{x1:"21",y1:"28",x2:"21",y2:"12",stroke:"#003333",strokeWidth:"4"})]})})]}),(0,l.jsx)(h.A,{recipes:s}),(0,l.jsxs)("div",{className:d().ArrayIngred,children:[(0,l.jsxs)("table",{className:d().table,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Ингредиент"}),(0,l.jsx)("th",{children:"Количество"})]})}),(0,l.jsx)("tbody",{children:x.map((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsxs)("td",{children:[p(e.value)," ",e.unit]})]},s))})]}),o.length>7&&(0,l.jsx)("button",{className:d().button,onClick:()=>i(!t),children:t?"Свернуть список":"Развернуть список"})]}),(0,l.jsx)("div",{className:d().imageGallery,children:s.images.map((e,s)=>(0,l.jsx)(r.default,{src:e,alt:"Изображение рецепта ".concat(s+1),width:500,height:400,className:d().image},s))})]})};function p(){let{rid:e}=(0,a.useParams)(),[s,t]=(0,n.useState)(null),[i,o]=(0,n.useState)(!0),[d,h]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{let s=await fetch("/api/recipe/".concat(e));if(!s.ok)throw Error("Рецепт не найден");let l=await s.json();t(l)}catch(e){h(e.message)}finally{o(!1)}})()},[e]),i)?(0,l.jsx)("div",{children:"Загрузка..."}):d?(0,l.jsxs)("div",{children:["Ошибка: ",d]}):(0,l.jsxs)("div",{className:c().container,children:[(0,l.jsx)("h1",{className:c().title,children:s.title}),(0,l.jsxs)("div",{className:c().details,children:[(0,l.jsx)("h2",{children:"Ингредиенты"}),(0,l.jsx)(x,{ingredients:s}),(0,l.jsx)("p",{className:c().description,children:s.description}),(0,l.jsx)("h2",{children:"Шаги приготовления"}),(0,l.jsx)("ol",{children:s.steps.map((e,s)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("h3",{children:e.stepTitle}),(0,l.jsx)("p",{children:e.stepDescription}),e.stepImage&&(0,l.jsx)(r.default,{src:e.stepImage,alt:"Шаг ".concat(s+1),width:996,height:522,className:c().stepImage,objectFit:"cover",unoptimized:!0})]},s))})]})]})}},7641:e=>{e.exports={table:"component_table__U52ug",button:"component_button__WrZzD",lala:"component_lala__wH6NO",calc:"component_calc__Eo_mL",portion:"component_portion__pIvYf",info:"component_info__KqUkJ",clock:"component_clock__hbP9G",kal:"component_kal__tb8Hh",kkal:"component_kkal__XkMd1",bel:"component_bel__iZQdq",belki:"component_belki__sqacs",oil:"component_oil__TN_ZI",oily:"component_oily__8Ey82",carb:"component_carb__EmpdT",carbs:"component_carbs__EUYlv"}},9863:e=>{e.exports={title:"page_title__ccZAH"}}},e=>{var s=s=>e(e.s=s);e.O(0,[320,90,970,441,517,358],()=>s(1748)),_N_E=e.O()}]);