(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3081:(e,a,s)=>{Promise.resolve().then(s.bind(s,9366))},9366:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var l=s(5155),i=s(2115),n=s(5565),t=s(8173),c=s.n(t),r=s(7641),_=s.n(r);function o(){return(0,l.jsxs)("header",{className:_().header,children:[(0,l.jsx)("div",{className:_().logo,children:(0,l.jsx)(n.default,{src:"/icon/logo.png",width:150,height:50,layout:"intrinsic",alt:"Gusto"})}),(0,l.jsxs)("div",{className:_().div_a,children:[(0,l.jsx)("a",{className:_().a,href:"/",children:"Главная"}),(0,l.jsx)("a",{className:_().a,href:"/admin",children:"День"}),(0,l.jsx)("a",{className:_().a,href:"/admin",children:"Неделя"}),(0,l.jsx)("a",{className:_().a,href:"/admin",children:"Месяц"})]})]})}var d=s(8334),h=s.n(d);let p=e=>{let{isOpen:a,onClose:s,categories:n}=e,[t,c]=(0,i.useState)([]),r=e=>{"Escape"===e.key&&s()};return((0,i.useEffect)(()=>(a&&window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[a,s]),a)?(0,l.jsx)("div",{className:_().overlay,children:(0,l.jsxs)("div",{className:_().modal,children:[(0,l.jsx)("button",{className:_().closeButton,onClick:s,children:"\xd7"}),(0,l.jsx)("h2",{children:"Фильтры"}),(0,l.jsx)("div",{className:_().filtersContainer,children:n.map((e,a)=>(0,l.jsx)("button",{className:"".concat(_().filterButton," ").concat(t.includes(e)?_().selected:""),onClick:()=>handleCategoryClick(e),children:e},a))}),(0,l.jsx)("button",{type:"submit",className:_().applyButton,children:"Применить"})]})}):null};function g(){let[e,a]=(0,i.useState)(!1),[s,t]=(0,i.useState)([]),[r,_]=(0,i.useState)(!0),[d,g]=(0,i.useState)(null),[m,x]=(0,i.useState)([]),j=async()=>{try{let e=await fetch("/api/recipes/route.js");if(!e.ok)throw Error("Ошибка при загрузке рецептов");let a=await e.json();t(a);let s=a.flatMap(e=>e.categories),l=[...new Set(s)];x(l)}catch(e){g(e.message)}finally{_(!1)}};return((0,i.useEffect)(()=>{j()},[]),r)?(0,l.jsx)("div",{children:"Загрузка..."}):d?(0,l.jsxs)("div",{children:["Ошибка: ",d]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:h().container,children:[(0,l.jsx)(o,{}),(0,l.jsx)("div",{className:h().imageWrapper,children:(0,l.jsx)(n.default,{src:"/icon/banner_gl.png",alt:"Фоновое изображение",fill:!0,className:h().bg,quality:100})})]}),(0,l.jsx)("div",{className:h().gg,children:(0,l.jsxs)("main",{className:h().main,children:[(0,l.jsxs)("button",{className:h().laman,onClick:()=>a(!0),children:[(0,l.jsxs)("svg",{width:"24",height:"21",viewBox:"0 0 24 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("line",{y1:"2.5",x2:"24",y2:"2.5",stroke:"white"}),(0,l.jsx)("line",{y1:"10.5",x2:"24",y2:"10.5",stroke:"white"}),(0,l.jsx)("line",{y1:"18.5",x2:"24",y2:"18.5",stroke:"white"}),(0,l.jsx)("rect",{x:"5",width:"1",height:"5",fill:"white"}),(0,l.jsx)("rect",{x:"18",y:"8",width:"1",height:"5",fill:"white"}),(0,l.jsx)("rect",{x:"11",y:"16",width:"1",height:"5",fill:"white"})]}),(0,l.jsx)("p",{children:"Фильтры"})]}),(0,l.jsx)(p,{isOpen:e,onClose:()=>a(!1),categories:m}),(0,l.jsx)("div",{className:h().gugu,children:s.map((e,a)=>(0,l.jsxs)("div",{className:h().lenta,children:[(0,l.jsx)("div",{className:h().box,children:(0,l.jsx)(n.default,{className:h().Image,src:e.images[0],height:150,width:150,style:{width:"100%",height:"240px",objectFit:"cover"},alt:e.title,unoptimized:!0,quality:1})}),(0,l.jsxs)("div",{className:h().cards,children:[(0,l.jsxs)("div",{className:h().info,children:[(0,l.jsxs)("div",{className:h().kkal,children:[(0,l.jsxs)("div",{className:h().kal,children:[(0,l.jsx)(n.default,{src:"/icon/fire.png",width:45,height:45,alt:"kal"}),(0,l.jsx)("p",{children:"кaлории"})]}),(0,l.jsxs)("p",{children:[e.kkal," г."]})]}),(0,l.jsxs)("div",{className:h().belki,children:[(0,l.jsxs)("div",{className:h().bel,children:[(0,l.jsx)(n.default,{src:"/icon/belki.png",width:45,height:45,alt:"bel"}),(0,l.jsx)("p",{children:"белки"})]}),(0,l.jsxs)("p",{children:[e.bel," г."]})]}),(0,l.jsxs)("div",{className:h().oily,children:[(0,l.jsxs)("div",{className:h().oil,children:[(0,l.jsx)(n.default,{src:"/icon/fats.png",width:45,height:45,alt:"oil"}),(0,l.jsx)("p",{children:"жиры"})]}),(0,l.jsxs)("p",{children:[e.fats," г."]})]}),(0,l.jsxs)("div",{className:h().carbs,children:[(0,l.jsxs)("div",{className:h().carb,children:[(0,l.jsx)(n.default,{src:"/icon/carbs.png",width:45,height:45,alt:"oil"}),(0,l.jsx)("p",{children:"углеводы"})]}),(0,l.jsxs)("p",{children:[e.carbs," г."]})]}),(0,l.jsxs)("div",{className:h().clock,children:[(0,l.jsx)(n.default,{src:"/icon/clock.png",width:80,height:80,alt:"clock"}),(0,l.jsx)("p",{children:e.cookingTime})]})]}),(0,l.jsxs)(c(),{href:"/recipe/".concat(e.rid),children:[(0,l.jsx)("strong",{className:h().title,children:e.title}),(0,l.jsx)("p",{children:"Ещё одно блюдо для любителей капусты. А я - большой её любитель. Простые и доступные ингредиенты, немного нужных специй. Идеально для ужина."}),(0,l.jsx)("div",{className:h().tags,children:e.categories.map((e,a)=>(0,l.jsx)("button",{children:e},a))})]})]})]},a))})]})})]})}},7641:e=>{e.exports={header:"component_header__H2V69",a:"component_a__Z_yUg",div_a:"component_div_a__mbY3R",overlay:"component_overlay__Ej_zO",modal:"component_modal__pJRrB",head:"component_head__q8KSp",closeButton:"component_closeButton__jB1U8",title:"component_title__i7wWc",filtersContainer:"component_filtersContainer__pxjAa",filterButton:"component_filterButton__LBSg8",selected:"component_selected__TnLzw",applyButton:"component_applyButton__pIbEB",buttons:"component_buttons__t0Bbw"}},8334:e=>{e.exports={logo:"page_logo__7fc9l",laman:"page_laman__cAqCJ",lenta:"page_lenta__cD0Ff",main:"page_main__GlU4n",gugu:"page_gugu__EkGTs",nav:"page_nav__zpG_3",span:"page_span__KKCMG",bg:"page_bg__gwpKm",container:"page_container__aoG4z",imageWrapper:"page_imageWrapper__OufeY",ing:"page_ing__uTz4n",box:"page_box__nSTsO",Link:"page_Link__kfbm4",Image:"page_Image__BujNF",info:"page_info__8u_Lr",clock:"page_clock__PRng8",kal:"page_kal__PZjEn",kkal:"page_kkal__UF1_k",bel:"page_bel__b744f",belki:"page_belki__HkgSk",oil:"page_oil__fclAl",oily:"page_oily__kUB9N",carb:"page_carb__U9nSU",carbs:"page_carbs__EA0pA",tags:"page_tags__sNgiG",title:"page_title__3jonF",infop:"page_infop__vH9gf",cards:"page_cards__Ff9Bq",lama:"page_lama__m2gh9"}}},e=>{var a=a=>e(e.s=a);e.O(0,[738,970,465,441,517,358],()=>a(3081)),_N_E=e.O()}]);