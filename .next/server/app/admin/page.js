(()=>{var e={};e.id=698,e.ids=[698],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},7270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=r(260),o=r(8203),i=r(5155),s=r.n(i),l=r(7292),a={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(t,a);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9842)),"/home/laman/Загрузки/client/src/app/admin/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3676)),"/home/laman/Загрузки/client/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/laman/Загрузки/client/src/app/admin/page.js"],p={require:r,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1828:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},5332:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},2510:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1066,23)),Promise.resolve().then(r.bind(r,6146))},2262:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1902,23)),Promise.resolve().then(r.bind(r,8934))},6361:(e,t,r)=>{Promise.resolve().then(r.bind(r,9842))},1513:(e,t,r)=>{Promise.resolve().then(r.bind(r,6558))},6558:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(5512),o=r(8009);let i=require("crypto"),s={randomUUID:i.randomUUID},l=new Uint8Array(256),a=l.length,d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));let c=function(e,t,r){if(s.randomUUID&&!t&&!e)return s.randomUUID();let n=(e=e||{}).random??e.rng?.()??(a>l.length-16&&((0,i.randomFillSync)(l),a=0),l.slice(a,a+=16));if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}(n)};var p=r(2591),u=r.n(p);function h({id:e,removeComponent:t}){return(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{placeholder:"Инг"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{placeholder:"кол"}),(0,n.jsx)("select",{children:(0,n.jsx)("option",{children:"Без группы"})}),(0,n.jsx)("button",{onClick:()=>t(e),type:"button",children:"Удалить"})]})}function m({id:e,removeComponent:t,handleImageUpload:r,image:o}){return(0,n.jsxs)("div",{children:[o&&(0,n.jsx)("img",{src:o,alt:"Шаг приготовления",style:{width:"100px",height:"100px"}}),(0,n.jsx)("textarea",{placeholder:"Шаг приготовления"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{if(t.target.files&&t.target.files[0]){let n=t.target.files[0];r(e,"step",URL.createObjectURL(n))}}}),(0,n.jsx)("button",{onClick:()=>t(e),type:"button",children:"Удалить"})]})}function x(){let[e,t]=(0,o.useState)(""),[r,i]=(0,o.useState)(1),[s,l]=(0,o.useState)(""),[a,d]=(0,o.useState)(null),[p,x]=(0,o.useState)([{id:c()}]),[b,f]=(0,o.useState)([{id:c(),image:null}]),v=e=>{x(p.filter(t=>t.id!==e))},g=e=>{f(b.filter(t=>t.id!==e))},j=(e,t,r)=>{"step"===t&&f(b.map(t=>t.id===e?{...t,image:r}:t))},P=async t=>{t.preventDefault();let n={title:e,Portion:Number(r),description:s,ingredients:p,steps:b};try{let e=await fetch("/api/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok){let t=await e.text();throw Error(`Network response was not ok: ${t}`)}let t=await e.json();d(t);let r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download="recipe.json",i.click(),URL.revokeObjectURL(o)}catch(e){console.error("Ошибка при отправке данных:",e),d({message:`Ошибка при отправке данных: ${e.message}`})}};return(0,n.jsxs)("div",{className:u().div,children:[(0,n.jsxs)("form",{className:u().form,onSubmit:P,children:[(0,n.jsx)("h1",{children:"Заголовок"}),(0,n.jsx)("input",{type:"text",value:e,title:"Заголовок",onChange:e=>t(e.target.value)}),(0,n.jsx)("h2",{children:"Описание рецепта"}),(0,n.jsx)("textarea",{type:"text",title:"Подзаголовок",value:s,onChange:e=>l(e.target.value),placeholder:"Введите краткое описание рецепта:",required:!0}),(0,n.jsx)("h2",{children:"Кол порций"}),(0,n.jsx)("input",{type:"number",value:r,placeholder:"кол. порций",onChange:e=>i(e.target.value)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Ингредиенты:"}),(0,n.jsx)("ol",{children:p.map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)(h,{id:e.id,removeComponent:v},e.id)},t))}),(0,n.jsx)("button",{onClick:()=>{x([...p,{id:c()}])},type:"button",children:"Добавить ингредиент"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"Шаги приготовления:"}),(0,n.jsx)("ol",{children:b.map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)(m,{id:e.id,removeComponent:g,handleImageUpload:j,image:e.image},e.id)},t))}),(0,n.jsx)("button",{onClick:()=>{f([...b,{id:c(),image:null}])},type:"button",children:"Добавить шаг"})]}),(0,n.jsx)("button",{type:"submit",children:"Submit"})]}),a&&(0,n.jsxs)("div",{children:["Ответ: ",JSON.stringify(a)]})]})}},8934:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(5512),o=r(8009);function i(){let[e,t]=(0,o.useState)(!1);return(0,n.jsx)("button",{style:{display:e?"block":"none",position:"fixed",bottom:"20px",width:"48px",height:"48px",right:"20px",padding:"10px 15px",fontSize:"18px",color:"white",backgroundColor:"#99cc33",border:"none",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"background-color 0.3s ease",zIndex:"1000"},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"↑"})}},2591:e=>{e.exports={form:"page_form__0FWwx"}},2758:e=>{e.exports={header:"Header_header__b54d9",ssilki:"Header_ssilki__p9q_1"}},9842:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/laman/Загрузки/client/src/app/admin/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/laman/Загрузки/client/src/app/admin/page.js","default")},6146:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/laman/Загрузки/client/src/app/components/ScrollToTopButton.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/laman/Загрузки/client/src/app/components/ScrollToTopButton.js","default")},3676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>i});var n=r(2740);r(2758),r(5635),r(1135);var o=r(6146);let i={title:"kuxna",description:"gg"};function s({children:e}){return(0,n.jsx)("html",{lang:"ru",children:(0,n.jsxs)("body",{children:[(0,n.jsx)(o.default,{}),e]})})}},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[994,808],()=>r(7270));module.exports=n})();